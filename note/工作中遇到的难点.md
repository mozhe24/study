参考：`https://blog.csdn.net/w372426096/article/details/80436764`



# 1、多个数据库一致性问题

这个场景的一致性问题不是很难，就是多个数据库数据可能不一致。一个用户在某个省进行业务操作，那么就近的服务器为其提供服务，但是相关数据需要和其用户归属地保持一致，最开始是通过每月将数据库的数据导出成文件然后进行对比，然后以省份为准，对集中数据进行修正。但是效率低下，同时实现也麻烦，可靠性不高。后面使用消息队列进行优化，将对应用户的操作情况放入到对应省份的消息队列服务器上，然后对应省份服务器自己去消费，同时需要采用confirm模式，消费成功后需要反馈。后面就可以引入消息队列相关的内容上了。如消息队列的可靠性等。



# 2、缓存数据可靠性

我们有很多制造参数需要保存在缓存中，由于数据量大（10w），同时由于在其他处理（如制造参数校验）很耗时，所以希望缓存能避免消耗过多时间，此时需要保证缓存的稳定，同时数据不能丢失。









